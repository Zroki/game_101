!function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function c(t,e,n=e){return t.set(n),e}function i(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}let v;function y(t){v=t}function x(){const t=function(){if(!v)throw new Error("Function called outside component initialization");return v}();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}const _=[],$=[],w=[],k=[],C=Promise.resolve();let E=!1;function N(t){w.push(t)}let S=!1;const M=new Set;function A(){if(!S){S=!0;do{for(let t=0;t<_.length;t+=1){const e=_[t];y(e),O(e.$$)}for(y(null),_.length=0;$.length;)$.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];M.has(e)||(M.add(e),e())}w.length=0}while(_.length);for(;k.length;)k.pop()();E=!1,S=!1,M.clear()}}function O(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const j=new Set;let z;function B(t,e){t&&t.i&&(j.delete(t),t.i(e))}function P(t,e,n,o){if(t&&t.o){if(j.has(t))return;j.add(t),z.c.push((()=>{j.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function T(t,e){t.d(1),e.delete(t.key)}function G(t,e,n,o,r,s,l,c,i,a,u,d){let f=t.length,p=s.length,h=f;const g={};for(;h--;)g[t[h].key]=h;const m=[],b=new Map,v=new Map;for(h=p;h--;){const t=d(r,s,h),c=n(t);let i=l.get(c);i?o&&i.p(t,e):(i=a(c,t),i.c()),b.set(c,m[h]=i),c in g&&v.set(c,Math.abs(h-g[c]))}const y=new Set,x=new Set;function _(t){B(t,1),t.m(c,u),l.set(t.key,t),u=t.first,p--}for(;f&&p;){const e=m[p-1],n=t[f-1],o=e.key,r=n.key;e===n?(u=e.first,f--,p--):b.has(r)?!l.has(o)||y.has(o)?_(e):x.has(r)?f--:v.get(o)>v.get(r)?(x.add(o),_(e)):(y.add(r),f--):(i(n,l),f--)}for(;f--;){const e=t[f];b.has(e.key)||i(e,l)}for(;p;)_(m[p-1]);return m}function I(t){t&&t.c()}function L(t,n,s){const{fragment:l,on_mount:c,on_destroy:i,after_update:a}=t.$$;l&&l.m(n,s),N((()=>{const n=c.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(N)}function q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function D(t,e){-1===t.$$.dirty[0]&&(_.push(t),E||(E=!0,C.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(e,r,s,l,c,i,a=[-1]){const d=v;y(e);const f=r.props||{},p=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let h=!1;if(p.ctx=s?s(e,f,((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),h&&D(e,t)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!l&&l(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();r.intro&&B(e.$$.fragment),L(e,r.target,r.anchor),A()}y(d)}class J{$destroy(){q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}class K{constructor(t){this.name=t,this.score=0,this.cards=[{card:"T",value:11},{card:"K",value:4},{card:"D",value:3},{card:"J",value:2},{card:"10",value:10},{card:"8",value:8},{card:"7",value:7},{card:"6",value:6}]}addScore(t){return this.score+Number(t)===101?(this.score=0,0):(this.score+=Number(t),this.score)}resetScore(){return this.score=0,0}}const H=[];let Q=function(e,n=t){let o;const r=[];function l(t){if(s(e,t)&&(e=t,o)){const t=!H.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),H.push(n,e)}if(t){for(let t=0;t<H.length;t+=2)H[t][0](H[t+1]);H.length=0}}}return{set:l,update:function(t){l(t(e))},subscribe:function(s,c=t){const i=[s,c];return r.push(i),1===r.length&&(o=n(l)||t),s(e),()=>{const t=r.indexOf(i);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}([]);function R(t,e,n){const o=t.slice();return o[5]=e[n],o[7]=n,o}function U(t){let e;return{c(){e=d("h2"),e.textContent="Добавленные игроки"},m(t,n){a(t,e,n)},d(t){t&&u(e)}}}function V(t,e){let n,o,r=e[5].name+"";return{key:t,first:null,c(){n=d("p"),o=f(r),this.first=n},m(t,e){a(t,n,e),i(n,o)},p(t,e){2&e&&r!==(r=t[5].name+"")&&m(o,r)},d(t){t&&u(n)}}}function W(e){let n,r,s,l,c,f,m,v,y,x,_,$,w,k,C,E=[],N=new Map,S=0!==e[1].length&&U(),M=e[1];const A=t=>t[5];for(let t=0;t<M.length;t+=1){let n=R(e,M,t),o=A(n);N.set(o,E[t]=V(o,n))}return{c(){n=d("div"),r=d("div"),s=d("h2"),s.textContent="Введите имя игрока",l=p(),c=d("input"),f=p(),m=d("button"),m.textContent="Добавить игрока",v=p(),y=d("div"),S&&S.c(),x=p();for(let t=0;t<E.length;t+=1)E[t].c();_=p(),$=d("div"),w=d("button"),w.textContent="Новая игра",g(s,"class","svelte-128yd0e"),g(c,"type","text"),g(c,"class","svelte-128yd0e"),g(m,"class","svelte-128yd0e"),g(r,"class","start_adding_new_players svelte-128yd0e"),g(y,"class","list_players"),g(w,"class","svelte-128yd0e"),g($,"class","start_new_game svelte-128yd0e"),g(n,"class","start_main svelte-128yd0e")},m(t,o){a(t,n,o),i(n,r),i(r,s),i(r,l),i(r,c),b(c,e[0]),i(r,f),i(r,m),i(n,v),i(n,y),S&&S.m(y,null),i(y,x);for(let t=0;t<E.length;t+=1)E[t].m(y,null);i(n,_),i(n,$),i($,w),k||(C=[h(c,"input",e[3]),h(m,"click",e[2].addNewPlayer),h(w,"click",e[2].startNewGame)],k=!0)},p(t,[e]){if(1&e&&c.value!==t[0]&&b(c,t[0]),0!==t[1].length?S||(S=U(),S.c(),S.m(y,x)):S&&(S.d(1),S=null),2&e){const n=t[1];E=G(E,e,A,1,t,n,N,y,T,V,null,R)}},i:t,o:t,d(t){t&&u(n),S&&S.d();for(let t=0;t<E.length;t+=1)E[t].d();k=!1,o(C)}}}function X(t,e,n){let o;l(t,Q,(t=>n(1,o=t)));const r=x();let s="";return[s,o,class{static addNewPlayer(){""!==s&&(c(Q,o=[...o,new K(s)],o),n(0,s=""))}static startNewGame(){o.length>=2&&r("new_game_start")}},function(){s=this.value,n(0,s)}]}class Y extends J{constructor(t){var e;super(),document.getElementById("svelte-128yd0e-style")||((e=d("style")).id="svelte-128yd0e-style",e.textContent=".start_main.svelte-128yd0e.svelte-128yd0e{margin:0 auto;width:25%;text-align:center}.start_adding_new_players.svelte-128yd0e.svelte-128yd0e{border:1px solid #00000014;border-radius:5px;background-color:#f1f1f196;padding:10px}.start_adding_new_players.svelte-128yd0e h2.svelte-128yd0e{margin:5px 0px}.start_adding_new_players.svelte-128yd0e button.svelte-128yd0e,.start_new_game.svelte-128yd0e button.svelte-128yd0e{margin:5px 0px;background-color:#007eff;border:1px solid #0400ffb0;padding:5px 10px;color:white;font-weight:bold;border-radius:5px;font-style:italic;cursor:pointer;transition:0.4s}.start_adding_new_players.svelte-128yd0e button.svelte-128yd0e:hover,.start_new_game.svelte-128yd0e button.svelte-128yd0e:hover{background-color:#0014ff;transition:0.4s}.start_adding_new_players.svelte-128yd0e input.svelte-128yd0e{box-sizing:border-box;margin:5px auto;font-family:inherit;overflow:visible;display:block;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;transition:border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;padding:0.25rem 0.5rem;font-size:0.875rem;line-height:1.5;border-radius:0.2rem;position:relative;flex:1 1 auto;width:100%}",i(document.head,e)),F(this,t,X,W,s,{})}}function Z(t,e,n){const o=t.slice();return o[6]=e[n],o[5]=n,o}function tt(t,e,n){const o=t.slice();return o[3]=e[n],o[5]=n,o}function et(t){let e,n,o,r,s=t[3].name+"",l=t[3].score+"";return{c(){e=d("h2"),n=f(s),o=f(" || Очки:"),r=f(l),g(e,"class","svelte-4bf3n3")},m(t,s){a(t,e,s),i(e,n),i(e,o),i(e,r)},p(t,e){1&e&&s!==(s=t[3].name+"")&&m(n,s),1&e&&l!==(l=t[3].score+"")&&m(r,l)},d(t){t&&u(e)}}}function nt(t){let e,n,o,r,s,l,c=t[3].name+"",h=t[3].score+"";return{c(){e=d("h2"),n=f(c),o=f("\r\n                    || Очки:"),r=f(h),s=p(),l=d("span"),l.textContent="Проигрыш",g(l,"class","text_bold svelte-4bf3n3"),g(e,"class","lose svelte-4bf3n3")},m(t,c){a(t,e,c),i(e,n),i(e,o),i(e,r),i(e,s),i(e,l)},p(t,e){1&e&&c!==(c=t[3].name+"")&&m(n,c),1&e&&h!==(h=t[3].score+"")&&m(r,h)},d(t){t&&u(e)}}}function ot(t,e){let n,o,s,l,c,p=e[6].card+"";return{key:t,first:null,c(){n=d("button"),o=f(p),n.value=s=e[6].value,g(n,"class","svelte-4bf3n3"),this.first=n},m(t,s){a(t,n,s),i(n,o),l||(c=h(n,"click",(function(){r(e[1](e[3],e[6].value))&&e[1](e[3],e[6].value).apply(this,arguments)})),l=!0)},p(t,r){e=t,1&r&&p!==(p=e[6].card+"")&&m(o,p),1&r&&s!==(s=e[6].value)&&(n.value=s)},d(t){t&&u(n),l=!1,c()}}}function rt(t,e){let n,s,l,c,f,m,b,v,y,x,_,$=[],w=new Map;function k(t,e){return t[3].score>101?nt:et}let C=k(e),E=C(e),N=e[3].cards;const S=t=>t[5];for(let t=0;t<N.length;t+=1){let n=Z(e,N,t),o=S(n);w.set(o,$[t]=ot(o,n))}return{key:t,first:null,c(){n=d("div"),E.c(),s=p();for(let t=0;t<$.length;t+=1)$[t].c();l=p(),c=d("button"),c.textContent="Сброс",f=p(),m=d("button"),m.textContent="-20",b=p(),v=d("button"),v.textContent="-40",y=p(),g(c,"class","svelte-4bf3n3"),g(m,"class","svelte-4bf3n3"),g(v,"class","svelte-4bf3n3"),g(n,"class","player_interface svelte-4bf3n3"),this.first=n},m(t,o){a(t,n,o),E.m(n,null),i(n,s);for(let t=0;t<$.length;t+=1)$[t].m(n,null);i(n,l),i(n,c),i(n,f),i(n,m),i(n,b),i(n,v),i(n,y),x||(_=[h(c,"click",(function(){r(e[2](e[3]))&&e[2](e[3]).apply(this,arguments)})),h(m,"click",(function(){r(e[1](e[3],-20))&&e[1](e[3],-20).apply(this,arguments)})),h(v,"click",(function(){r(e[1](e[3],-40))&&e[1](e[3],-40).apply(this,arguments)}))],x=!0)},p(t,o){if(C===(C=k(e=t))&&E?E.p(e,o):(E.d(1),E=C(e),E&&(E.c(),E.m(n,s))),3&o){const t=e[3].cards;$=G($,o,S,1,e,t,w,n,T,ot,l,Z)}},d(t){t&&u(n),E.d();for(let t=0;t<$.length;t+=1)$[t].d();x=!1,o(_)}}}function st(e){let n,o=[],r=new Map,s=e[0];const l=t=>t[3];for(let t=0;t<s.length;t+=1){let n=tt(e,s,t),c=l(n);r.set(c,o[t]=rt(c,n))}return{c(){n=d("div");for(let t=0;t<o.length;t+=1)o[t].c();g(n,"class","game_field svelte-4bf3n3")},m(t,e){a(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(7&e){const s=t[0];o=G(o,e,l,1,t,s,r,n,T,rt,null,tt)}},i:t,o:t,d(t){t&&u(n);for(let t=0;t<o.length;t+=1)o[t].d()}}}function lt(t,e,n){let o;return l(t,Q,(t=>n(0,o=t))),[o,function(t,e){t.addScore(e),c(Q,o=[...o],o)},function(t){t.resetScore(),c(Q,o=[...o],o)}]}class ct extends J{constructor(t){var e;super(),document.getElementById("svelte-4bf3n3-style")||((e=d("style")).id="svelte-4bf3n3-style",e.textContent=".lose.svelte-4bf3n3{color:red}.text_bold.svelte-4bf3n3{font-weight:bold}.game_field.svelte-4bf3n3{width:35%;margin:0 auto;text-align:center}.player_interface.svelte-4bf3n3{border:1px solid #8a8a8a;background-color:#e6e0246e;border-radius:3px;margin-bottom:15px;padding:10px}h2.svelte-4bf3n3{margin:0;margin-bottom:10px}button.svelte-4bf3n3{margin:5px 3px;background-color:#007eff;border:1px solid #0400ffb0;padding:5px 10px;color:white;font-weight:bold;border-radius:5px;font-style:italic;cursor:pointer;transition:0.4s}button.svelte-4bf3n3:hover{background-color:#0014ff;transition:0.4s}",i(document.head,e)),F(this,t,lt,st,s,{})}}function it(e){let n,o;return n=new ct({}),{c(){I(n.$$.fragment)},m(t,e){L(n,t,e),o=!0},p:t,i(t){o||(B(n.$$.fragment,t),o=!0)},o(t){P(n.$$.fragment,t),o=!1},d(t){q(n,t)}}}function at(e){let n,o;return n=new Y({}),n.$on("new_game_start",e[1]),{c(){I(n.$$.fragment)},m(t,e){L(n,t,e),o=!0},p:t,i(t){o||(B(n.$$.fragment,t),o=!0)},o(t){P(n.$$.fragment,t),o=!1},d(t){q(n,t)}}}function ut(t){let e,n,r,s;const l=[at,it],c=[];function i(t,e){return t[0]?1:0}return e=i(t),n=c[e]=l[e](t),{c(){n.c(),r=f("")},m(t,n){c[e].m(t,n),a(t,r,n),s=!0},p(t,[s]){let a=e;e=i(t),e===a?c[e].p(t,s):(z={r:0,c:[],p:z},P(c[a],1,1,(()=>{c[a]=null})),z.r||o(z.c),z=z.p,n=c[e],n||(n=c[e]=l[e](t),n.c()),B(n,1),n.m(r.parentNode,r))},i(t){s||(B(n),s=!0)},o(t){P(n),s=!1},d(t){c[e].d(t),t&&u(r)}}}function dt(t,e,n){let o=!1;return[o,function(){n(0,o=!0)}]}new class extends J{constructor(t){super(),F(this,t,dt,ut,s,{})}}({target:document.body})}();
